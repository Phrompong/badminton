generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Session {
  id            String   @id @default(uuid()) @db.Uuid
  name          String   @db.VarChar(255)
  startAt       DateTime @map("start_at") @db.Timestamptz(6)
  location      String   @db.VarChar(255)
  playerCount   Int      @default(0) @map("player_count")
  courtCount    Int      @map("court_count")
  roomCode      String   @unique @map("room_code") @db.VarChar(255)
  amountPerGame Decimal  @map("amount_per_game") @db.Decimal(10, 2)
  createdDate   DateTime @default(now()) @map("created_date") @db.Timestamptz(6)
  createdBy     String   @map("created_by") @db.Uuid
  updatedDate   DateTime @default(now()) @updatedAt @map("updated_date") @db.Timestamptz(6)
  updatedBy     String   @map("updated_by") @db.Uuid
  isActive      Boolean  @default(true) @map("is_active")

  players Player[]

  @@map("sessions")
}

model Player {
  id          String   @id @default(uuid()) @db.Uuid
  sessionId   String   @map("session_id") @db.Uuid
  name        String   @db.VarChar(255)
  level       String   @db.VarChar(255)
  isOnline    Boolean  @default(false) @map("is_online")
  isPaid      Boolean  @default(false) @map("is_paid")
  isActive    Boolean  @default(true) @map("is_active")
  createdDate DateTime @default(now()) @map("created_date") @db.Timestamptz(6)
  createdBy   String   @map("created_by") @db.Uuid
  updatedDate DateTime @default(now()) @updatedAt @map("updated_date") @db.Timestamptz(6)
  updatedBy   String   @map("updated_by") @db.Uuid

  session Session @relation(fields: [sessionId], references: [id])

  @@map("player")
}
